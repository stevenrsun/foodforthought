{"ast":null,"code":"import _slicedToArray from \"/Users/murray/Developer/coursework/software_engineering_cs373/foodforthoughts/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport { Element } from \"react-faux-dom\";\nexport default class BarChart extends Component {\n  plot(chart, width, height) {\n    var data = [];\n    var temp = this.props.data;\n    var x = this.props.x;\n    var y = this.props.y;\n    var color = this.props.color;\n\n    for (const _ref of Object.entries(temp)) {\n      var _ref2 = _slicedToArray(_ref, 2);\n\n      const key = _ref2[0];\n      const value = _ref2[1];\n      var tempDict = {};\n      tempDict[\"statename\"] = key;\n      tempDict[\"value\"] = value;\n      data.push(tempDict);\n    } // create scales!\n\n\n    var barOuterPad = 0.2;\n    var barPad = 0.1;\n    const xScale = d3.scaleBand().domain(data.map(d => d.statename)).range([0, width]).paddingInner(barPad).paddingOuter(barOuterPad);\n    const yScale = d3.scaleLinear().domain([0, d3.max(data, d => d.value)]).range([height, 0]);\n    const colorScale = d3.scaleSequential(d3.interpolateOranges);\n    chart.selectAll(\".bar-label\").data(data).enter().append(\"text\").classed(\"bar-label\", true).attr(\"x\", d => xScale(d.statename) + xScale.bandwidth() / 2).attr(\"dx\", 0).attr(\"y\", d => yScale(d.value)).attr(\"dy\", -6);\n    const xAxis = d3.axisBottom().scale(xScale);\n    chart.append(\"g\").classed(\"x axis\", true).attr(\"transform\", \"translate(0,\".concat(height, \")\")).call(xAxis);\n    const yAxis = d3.axisLeft().ticks(5).scale(yScale);\n    chart.append(\"g\").classed(\"y axis\", true).attr(\"transform\", \"translate(0,0)\").call(yAxis);\n    chart.select(\".x.axis\").append(\"text\").attr(\"x\", width / 2).attr(\"y\", 60).attr(\"fill\", \"#000\").style(\"font-size\", \"20px\").style(\"text-anchor\", \"middle\").text(x);\n    chart.select(\".y.axis\").append(\"text\").attr(\"x\", 0).attr(\"y\", 0).attr(\"transform\", \"translate(-50, \".concat(height / 2, \") rotate(-90)\")).attr(\"fill\", \"#000\").style(\"font-size\", \"20px\").style(\"text-anchor\", \"middle\").text(y);\n    const yGridlines = d3.axisLeft().scale(yScale).ticks(5).tickSize(-width, 0, 0).tickFormat(\"\");\n    chart.append(\"g\").call(yGridlines).classed(\"gridline\", true);\n    chart.selectAll(\".bar\").data(data).enter().append(\"rect\").classed(\"bar\", true).attr(\"x\", d => xScale(d.statename)).attr(\"y\", d => yScale(d.value)).attr(\"height\", d => height - yScale(d.value)).attr(\"width\", d => xScale.bandwidth()).style(\"fill\", (d, i) => colorScale(0.6));\n  }\n\n  drawChart() {\n    const width = 1200;\n    const height = 600;\n    const el = new Element(\"div\");\n    const svg = d3.select(el).append(\"svg\").attr(\"id\", \"chart\").attr(\"width\", width).attr(\"height\", height);\n    const margin = {\n      top: 60,\n      bottom: 100,\n      left: 80,\n      right: 40\n    };\n    const chart = svg.append(\"g\").classed(\"display\", true).attr(\"transform\", \"translate(\".concat(margin.left, \",\").concat(margin.top, \")\"));\n    const chartWidth = width - margin.left - margin.right;\n    const chartHeight = height - margin.top - margin.bottom;\n    this.plot(chart, chartWidth, chartHeight);\n    return el.toReact();\n  }\n\n  render() {\n    return this.drawChart();\n  }\n\n}","map":{"version":3,"sources":["/Users/murray/Developer/coursework/software_engineering_cs373/foodforthoughts/src/components/BarChart.js"],"names":["React","Component","d3","Element","BarChart","plot","chart","width","height","data","temp","props","x","y","color","Object","entries","key","value","tempDict","push","barOuterPad","barPad","xScale","scaleBand","domain","map","d","statename","range","paddingInner","paddingOuter","yScale","scaleLinear","max","colorScale","scaleSequential","interpolateOranges","selectAll","enter","append","classed","attr","bandwidth","xAxis","axisBottom","scale","call","yAxis","axisLeft","ticks","select","style","text","yGridlines","tickSize","tickFormat","i","drawChart","el","svg","margin","top","bottom","left","right","chartWidth","chartHeight","toReact","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AACA,SAASC,OAAT,QAAwB,gBAAxB;AAEA,eAAe,MAAMC,QAAN,SAAuBH,SAAvB,CAAiC;AAC9CI,EAAAA,IAAI,CAACC,KAAD,EAAQC,KAAR,EAAeC,MAAf,EAAuB;AAC1B,QAAIC,IAAI,GAAG,EAAX;AACA,QAAIC,IAAI,GAAG,KAAKC,KAAL,CAAWF,IAAtB;AAEA,QAAIG,CAAC,GAAG,KAAKD,KAAL,CAAWC,CAAnB;AACA,QAAIC,CAAC,GAAG,KAAKF,KAAL,CAAWE,CAAnB;AACA,QAAIC,KAAK,GAAG,KAAKH,KAAL,CAAWG,KAAvB;;AAEA,uBAA2BC,MAAM,CAACC,OAAP,CAAeN,IAAf,CAA3B,EAAiD;AAAA;;AAAA,YAArCO,GAAqC;AAAA,YAAhCC,KAAgC;AAC9C,UAAIC,QAAQ,GAAG,EAAf;AACAA,MAAAA,QAAQ,CAAC,WAAD,CAAR,GAAwBF,GAAxB;AACAE,MAAAA,QAAQ,CAAC,OAAD,CAAR,GAAoBD,KAApB;AACAT,MAAAA,IAAI,CAACW,IAAL,CAAUD,QAAV;AACF,KAbyB,CAc1B;;;AACA,QAAIE,WAAW,GAAG,GAAlB;AACA,QAAIC,MAAM,GAAG,GAAb;AACA,UAAMC,MAAM,GAAGrB,EAAE,CACbsB,SADW,GAEXC,MAFW,CAEJhB,IAAI,CAACiB,GAAL,CAASC,CAAC,IAAIA,CAAC,CAACC,SAAhB,CAFI,EAGXC,KAHW,CAGL,CAAC,CAAD,EAAItB,KAAJ,CAHK,EAIXuB,YAJW,CAIER,MAJF,EAKXS,YALW,CAKEV,WALF,CAAf;AAMA,UAAMW,MAAM,GAAG9B,EAAE,CACb+B,WADW,GAEXR,MAFW,CAEJ,CAAC,CAAD,EAAIvB,EAAE,CAACgC,GAAH,CAAOzB,IAAP,EAAakB,CAAC,IAAIA,CAAC,CAACT,KAApB,CAAJ,CAFI,EAGXW,KAHW,CAGL,CAACrB,MAAD,EAAS,CAAT,CAHK,CAAf;AAKA,UAAM2B,UAAU,GAAGjC,EAAE,CAACkC,eAAH,CAAmBlC,EAAE,CAACmC,kBAAtB,CAAnB;AAEA/B,IAAAA,KAAK,CACDgC,SADJ,CACc,YADd,EAEI7B,IAFJ,CAESA,IAFT,EAGI8B,KAHJ,GAIIC,MAJJ,CAIW,MAJX,EAKIC,OALJ,CAKY,WALZ,EAKyB,IALzB,EAMIC,IANJ,CAMS,GANT,EAMcf,CAAC,IAAIJ,MAAM,CAACI,CAAC,CAACC,SAAH,CAAN,GAAsBL,MAAM,CAACoB,SAAP,KAAqB,CAN9D,EAOID,IAPJ,CAOS,IAPT,EAOe,CAPf,EAQIA,IARJ,CAQS,GART,EAQcf,CAAC,IAAIK,MAAM,CAACL,CAAC,CAACT,KAAH,CARzB,EASIwB,IATJ,CASS,IATT,EASe,CAAC,CAThB;AAWA,UAAME,KAAK,GAAG1C,EAAE,CAAC2C,UAAH,GAAgBC,KAAhB,CAAsBvB,MAAtB,CAAd;AAEAjB,IAAAA,KAAK,CACDkC,MADJ,CACW,GADX,EAEIC,OAFJ,CAEY,QAFZ,EAEsB,IAFtB,EAGIC,IAHJ,CAGS,WAHT,wBAGqClC,MAHrC,QAIIuC,IAJJ,CAISH,KAJT;AAMA,UAAMI,KAAK,GAAG9C,EAAE,CACZ+C,QADU,GAEVC,KAFU,CAEJ,CAFI,EAGVJ,KAHU,CAGJd,MAHI,CAAd;AAKA1B,IAAAA,KAAK,CACDkC,MADJ,CACW,GADX,EAEIC,OAFJ,CAEY,QAFZ,EAEsB,IAFtB,EAGIC,IAHJ,CAGS,WAHT,EAGsB,gBAHtB,EAIIK,IAJJ,CAISC,KAJT;AAMA1C,IAAAA,KAAK,CACD6C,MADJ,CACW,SADX,EAEIX,MAFJ,CAEW,MAFX,EAGIE,IAHJ,CAGS,GAHT,EAGcnC,KAAK,GAAG,CAHtB,EAIImC,IAJJ,CAIS,GAJT,EAIc,EAJd,EAKIA,IALJ,CAKS,MALT,EAKiB,MALjB,EAMIU,KANJ,CAMU,WANV,EAMuB,MANvB,EAOIA,KAPJ,CAOU,aAPV,EAOyB,QAPzB,EAQIC,IARJ,CAQSzC,CART;AAUAN,IAAAA,KAAK,CACD6C,MADJ,CACW,SADX,EAEIX,MAFJ,CAEW,MAFX,EAGIE,IAHJ,CAGS,GAHT,EAGc,CAHd,EAIIA,IAJJ,CAIS,GAJT,EAIc,CAJd,EAKIA,IALJ,CAKS,WALT,2BAKwClC,MAAM,GAAG,CALjD,oBAMIkC,IANJ,CAMS,MANT,EAMiB,MANjB,EAOIU,KAPJ,CAOU,WAPV,EAOuB,MAPvB,EAQIA,KARJ,CAQU,aARV,EAQyB,QARzB,EASIC,IATJ,CASSxC,CATT;AAWA,UAAMyC,UAAU,GAAGpD,EAAE,CACjB+C,QADe,GAEfH,KAFe,CAETd,MAFS,EAGfkB,KAHe,CAGT,CAHS,EAIfK,QAJe,CAIN,CAAChD,KAJK,EAIE,CAJF,EAIK,CAJL,EAKfiD,UALe,CAKJ,EALI,CAAnB;AAOAlD,IAAAA,KAAK,CACDkC,MADJ,CACW,GADX,EAEIO,IAFJ,CAESO,UAFT,EAGIb,OAHJ,CAGY,UAHZ,EAGwB,IAHxB;AAKGnC,IAAAA,KAAK,CACHgC,SADF,CACY,MADZ,EAEE7B,IAFF,CAEOA,IAFP,EAGE8B,KAHF,GAIEC,MAJF,CAIS,MAJT,EAKEC,OALF,CAKU,KALV,EAKiB,IALjB,EAMEC,IANF,CAMO,GANP,EAMYf,CAAC,IAAIJ,MAAM,CAACI,CAAC,CAACC,SAAH,CANvB,EAOEc,IAPF,CAOO,GAPP,EAOYf,CAAC,IAAIK,MAAM,CAACL,CAAC,CAACT,KAAH,CAPvB,EAQEwB,IARF,CAQO,QARP,EAQiBf,CAAC,IAAInB,MAAM,GAAGwB,MAAM,CAACL,CAAC,CAACT,KAAH,CARrC,EASEwB,IATF,CASO,OATP,EASgBf,CAAC,IAAIJ,MAAM,CAACoB,SAAP,EATrB,EAUES,KAVF,CAUQ,MAVR,EAUgB,CAACzB,CAAD,EAAI8B,CAAJ,KAAUtB,UAAU,CAAC,GAAD,CAVpC;AAWH;;AAEDuB,EAAAA,SAAS,GAAG;AACX,UAAMnD,KAAK,GAAG,IAAd;AACA,UAAMC,MAAM,GAAG,GAAf;AAEA,UAAMmD,EAAE,GAAG,IAAIxD,OAAJ,CAAY,KAAZ,CAAX;AACA,UAAMyD,GAAG,GAAG1D,EAAE,CACViD,MADQ,CACDQ,EADC,EAERnB,MAFQ,CAED,KAFC,EAGRE,IAHQ,CAGH,IAHG,EAGG,OAHH,EAIRA,IAJQ,CAIH,OAJG,EAIMnC,KAJN,EAKRmC,IALQ,CAKH,QALG,EAKOlC,MALP,CAAZ;AAOA,UAAMqD,MAAM,GAAG;AACZC,MAAAA,GAAG,EAAE,EADO;AAEZC,MAAAA,MAAM,EAAE,GAFI;AAGZC,MAAAA,IAAI,EAAE,EAHM;AAIZC,MAAAA,KAAK,EAAE;AAJK,KAAf;AAOA,UAAM3D,KAAK,GAAGsD,GAAG,CACbpB,MADU,CACH,GADG,EAEVC,OAFU,CAEF,SAFE,EAES,IAFT,EAGVC,IAHU,CAGL,WAHK,sBAGqBmB,MAAM,CAACG,IAH5B,cAGoCH,MAAM,CAACC,GAH3C,OAAd;AAKA,UAAMI,UAAU,GAAG3D,KAAK,GAAGsD,MAAM,CAACG,IAAf,GAAsBH,MAAM,CAACI,KAAhD;AACA,UAAME,WAAW,GAAG3D,MAAM,GAAGqD,MAAM,CAACC,GAAhB,GAAsBD,MAAM,CAACE,MAAjD;AACA,SAAK1D,IAAL,CAAUC,KAAV,EAAiB4D,UAAjB,EAA6BC,WAA7B;AAEA,WAAOR,EAAE,CAACS,OAAH,EAAP;AACA;;AAEDC,EAAAA,MAAM,GAAG;AACR,WAAO,KAAKX,SAAL,EAAP;AACA;;AA5I6C","sourcesContent":["import React, { Component } from 'react';\nimport * as d3 from \"d3\";\nimport { Element } from \"react-faux-dom\";\n\nexport default class BarChart extends Component {\n  plot(chart, width, height) {\n   var data = [];\n   var temp = this.props.data;\n\n   var x = this.props.x;\n   var y = this.props.y;\n   var color = this.props.color;\n\n   for (const [key, value] of Object.entries(temp)) {\n      var tempDict = {};\n      tempDict[\"statename\"] = key;\n      tempDict[\"value\"] = value;\n      data.push(tempDict);\n   }\n   // create scales!\n   var barOuterPad = 0.2;\n   var barPad = 0.1;\n   const xScale = d3\n      .scaleBand()\n      .domain(data.map(d => d.statename))\n      .range([0, width])\n      .paddingInner(barPad)\n      .paddingOuter(barOuterPad);\n   const yScale = d3\n      .scaleLinear()\n      .domain([0, d3.max(data, d => d.value)])\n      .range([height, 0]);\n   \n   const colorScale = d3.scaleSequential(d3.interpolateOranges);\n\n   chart\n      .selectAll(\".bar-label\")\n      .data(data)\n      .enter()\n      .append(\"text\")\n      .classed(\"bar-label\", true)\n      .attr(\"x\", d => xScale(d.statename) + xScale.bandwidth() / 2)\n      .attr(\"dx\", 0)\n      .attr(\"y\", d => yScale(d.value))\n      .attr(\"dy\", -6)\n\n   const xAxis = d3.axisBottom().scale(xScale);\n\n   chart\n      .append(\"g\")\n      .classed(\"x axis\", true)\n      .attr(\"transform\", `translate(0,${height})`)\n      .call(xAxis);\n\n   const yAxis = d3\n      .axisLeft()\n      .ticks(5)\n      .scale(yScale);\n\n   chart\n      .append(\"g\")\n      .classed(\"y axis\", true)\n      .attr(\"transform\", \"translate(0,0)\")\n      .call(yAxis);\n\n   chart\n      .select(\".x.axis\")\n      .append(\"text\")\n      .attr(\"x\", width / 2)\n      .attr(\"y\", 60)\n      .attr(\"fill\", \"#000\")\n      .style(\"font-size\", \"20px\")\n      .style(\"text-anchor\", \"middle\")\n      .text(x);\n\n   chart\n      .select(\".y.axis\")\n      .append(\"text\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"transform\", `translate(-50, ${height / 2}) rotate(-90)`)\n      .attr(\"fill\", \"#000\")\n      .style(\"font-size\", \"20px\")\n      .style(\"text-anchor\", \"middle\")\n      .text(y);\n\n   const yGridlines = d3\n      .axisLeft()\n      .scale(yScale)\n      .ticks(5)\n      .tickSize(-width, 0, 0)\n      .tickFormat(\"\");\n\n   chart\n      .append(\"g\")\n      .call(yGridlines)\n      .classed(\"gridline\", true);\n\n      chart\n       .selectAll(\".bar\")\n       .data(data)\n       .enter()\n       .append(\"rect\")\n       .classed(\"bar\", true)\n       .attr(\"x\", d => xScale(d.statename))\n       .attr(\"y\", d => yScale(d.value))\n       .attr(\"height\", d => height - yScale(d.value))\n       .attr(\"width\", d => xScale.bandwidth())\n       .style(\"fill\", (d, i) => colorScale(0.6));\n  }\n\n  drawChart() {\n   const width = 1200;\n   const height = 600;\n\n   const el = new Element(\"div\");\n   const svg = d3\n      .select(el)\n      .append(\"svg\")\n      .attr(\"id\", \"chart\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n\n   const margin = {\n      top: 60,\n      bottom: 100,\n      left: 80,\n      right: 40\n   };\n\n   const chart = svg\n      .append(\"g\")\n      .classed(\"display\", true)\n      .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n   const chartWidth = width - margin.left - margin.right;\n   const chartHeight = height - margin.top - margin.bottom;\n   this.plot(chart, chartWidth, chartHeight);\n\n   return el.toReact();\n  }\n\n  render() {\n   return this.drawChart();\n  }\n}\n"]},"metadata":{},"sourceType":"module"}