{"ast":null,"code":"var _jsxFileName = \"/Users/murray/Developer/coursework/software_engineering_cs373/foodforthoughts/src/components/HorizontalBarChart.js\";\nimport React from 'react';\nimport rd3 from 'react-d3-library';\nimport * as d3 from 'd3';\nconst RD3Component = rd3.Component;\n\nasync function loadChart() {\n  var node = document.createElement('div'); // const apiData = await d3.json(\"https://cors-anywhere.herokuapp.com/http://api.foodforthoughtt.me/food\")\n\n  var data = [{\n    'a': 1\n  }, {\n    'b': 2\n  }]; // apiData[\"organizations\"].forEach((element) => {\n  // data.push({name: element[\"name\"], value: element[\"missions\"].length})\n  // })\n\n  var margin = {\n    top: 30,\n    right: 0,\n    bottom: 10,\n    left: 300\n  };\n  var width = 800;\n  var height = data.length * 25 + margin.top + margin.bottom;\n  var svg = d3.select(node).append(\"svg\").attr(\"width\", width).attr(\"height\", height);\n  const x = d3.scale().domain([0, d3.max(data, d => d.value)]).range([margin.left, width - margin.right]);\n  const y = d3.scale().domain(data.map(d => d.name)).range([margin.top, height - margin.bottom]).padding(0.1);\n\n  const xAxis = g => g.attr(\"transform\", \"translate(0,\".concat(margin.top, \")\")).call(d3.axisTop(x).ticks(width / 80)).call(g => g.select(\".domain\").remove());\n\n  const yAxis = g => g.attr(\"transform\", \"translate(\".concat(margin.left, \",0)\")).call(d3.axisLeft(y).tickSizeOuter(0));\n\n  const format = x.tickFormat(20);\n  svg.append(\"g\").attr(\"fill\", \"steelblue\").selectAll(\"rect\").data(data).join(\"rect\").attr(\"x\", x(0)).attr(\"y\", d => y(d.name)).attr(\"width\", d => x(d.value) - x(0)).attr(\"height\", y.bandwidth());\n  svg.append(\"g\").attr(\"fill\", \"white\").attr(\"text-anchor\", \"end\").style(\"font\", \"12px sans-serif\").selectAll(\"text\").data(data).join(\"text\").attr(\"x\", d => x(d.value) - 4).attr(\"y\", d => y(d.name) + y.bandwidth() / 2).attr(\"dy\", \"0.35em\").text(d => format(d.value));\n  svg.append(\"g\").call(xAxis);\n  svg.append(\"g\").call(yAxis);\n  return node;\n}\n\nexport default class HorizontalBarChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      d3: ''\n    };\n  }\n\n  componentDidMount() {\n    loadChart().then(result => {\n      this.setState({\n        d3: result\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(RD3Component, {\n      data: this.state.d3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/murray/Developer/coursework/software_engineering_cs373/foodforthoughts/src/components/HorizontalBarChart.js"],"names":["React","rd3","d3","RD3Component","Component","loadChart","node","document","createElement","data","margin","top","right","bottom","left","width","height","length","svg","select","append","attr","x","scale","domain","max","d","value","range","y","map","name","padding","xAxis","g","call","axisTop","ticks","remove","yAxis","axisLeft","tickSizeOuter","format","tickFormat","selectAll","join","bandwidth","style","text","HorizontalBarChart","constructor","props","state","componentDidMount","then","result","setState","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,GAAP,MAAgB,kBAAhB;AACA,OAAO,KAAKC,EAAZ,MAAoB,IAApB;AAEA,MAAMC,YAAY,GAAGF,GAAG,CAACG,SAAzB;;AAEA,eAAeC,SAAf,GAA2B;AACvB,MAAIC,IAAI,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAX,CADuB,CAGvB;;AAEA,MAAIC,IAAI,GAAG,CAAC;AAAC,SAAK;AAAN,GAAD,EAAW;AAAC,SAAK;AAAN,GAAX,CAAX,CALuB,CAMvB;AACA;AACA;;AAEA,MAAIC,MAAM,GAAI;AAACC,IAAAA,GAAG,EAAE,EAAN;AAAUC,IAAAA,KAAK,EAAE,CAAjB;AAAoBC,IAAAA,MAAM,EAAE,EAA5B;AAAgCC,IAAAA,IAAI,EAAE;AAAtC,GAAd;AAEA,MAAIC,KAAK,GAAG,GAAZ;AACA,MAAIC,MAAM,GAAGP,IAAI,CAACQ,MAAL,GAAc,EAAd,GAAmBP,MAAM,CAACC,GAA1B,GAAgCD,MAAM,CAACG,MAApD;AAEA,MAAIK,GAAG,GAAGhB,EAAE,CAACiB,MAAH,CAAUb,IAAV,EAAgBc,MAAhB,CAAuB,KAAvB,EACPC,IADO,CACF,OADE,EACON,KADP,EAEPM,IAFO,CAEF,QAFE,EAEQL,MAFR,CAAV;AAMA,QAAMM,CAAC,GAAGpB,EAAE,CAACqB,KAAH,GACLC,MADK,CACE,CAAC,CAAD,EAAItB,EAAE,CAACuB,GAAH,CAAOhB,IAAP,EAAaiB,CAAC,IAAIA,CAAC,CAACC,KAApB,CAAJ,CADF,EAELC,KAFK,CAEC,CAAClB,MAAM,CAACI,IAAR,EAAcC,KAAK,GAAGL,MAAM,CAACE,KAA7B,CAFD,CAAV;AAIA,QAAMiB,CAAC,GAAG3B,EAAE,CAACqB,KAAH,GACLC,MADK,CACEf,IAAI,CAACqB,GAAL,CAASJ,CAAC,IAAIA,CAAC,CAACK,IAAhB,CADF,EAELH,KAFK,CAEC,CAAClB,MAAM,CAACC,GAAR,EAAaK,MAAM,GAAGN,MAAM,CAACG,MAA7B,CAFD,EAGLmB,OAHK,CAGG,GAHH,CAAV;;AAKA,QAAMC,KAAK,GAAGC,CAAC,IAAIA,CAAC,CACfb,IADc,CACT,WADS,wBACmBX,MAAM,CAACC,GAD1B,QAEdwB,IAFc,CAETjC,EAAE,CAACkC,OAAH,CAAWd,CAAX,EAAce,KAAd,CAAoBtB,KAAK,GAAG,EAA5B,CAFS,EAGdoB,IAHc,CAGTD,CAAC,IAAIA,CAAC,CAACf,MAAF,CAAS,SAAT,EAAoBmB,MAApB,EAHI,CAAnB;;AAKA,QAAMC,KAAK,GAAGL,CAAC,IAAIA,CAAC,CACfb,IADc,CACT,WADS,sBACiBX,MAAM,CAACI,IADxB,UAEdqB,IAFc,CAETjC,EAAE,CAACsC,QAAH,CAAYX,CAAZ,EAAeY,aAAf,CAA6B,CAA7B,CAFS,CAAnB;;AAIA,QAAMC,MAAM,GAAIpB,CAAC,CAACqB,UAAF,CAAa,EAAb,CAAhB;AAGAzB,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EACSC,IADT,CACc,MADd,EACsB,WADtB,EAEKuB,SAFL,CAEe,MAFf,EAGKnC,IAHL,CAGUA,IAHV,EAIKoC,IAJL,CAIU,MAJV,EAKSxB,IALT,CAKc,GALd,EAKmBC,CAAC,CAAC,CAAD,CALpB,EAMSD,IANT,CAMc,GANd,EAMmBK,CAAC,IAAIG,CAAC,CAACH,CAAC,CAACK,IAAH,CANzB,EAOSV,IAPT,CAOc,OAPd,EAOuBK,CAAC,IAAIJ,CAAC,CAACI,CAAC,CAACC,KAAH,CAAD,GAAaL,CAAC,CAAC,CAAD,CAP1C,EAQSD,IART,CAQc,QARd,EAQwBQ,CAAC,CAACiB,SAAF,EARxB;AAUA5B,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EACSC,IADT,CACc,MADd,EACsB,OADtB,EAESA,IAFT,CAEc,aAFd,EAE6B,KAF7B,EAGS0B,KAHT,CAGe,MAHf,EAGuB,iBAHvB,EAIKH,SAJL,CAIe,MAJf,EAKKnC,IALL,CAKUA,IALV,EAMKoC,IANL,CAMU,MANV,EAOSxB,IAPT,CAOc,GAPd,EAOmBK,CAAC,IAAIJ,CAAC,CAACI,CAAC,CAACC,KAAH,CAAD,GAAa,CAPrC,EAQSN,IART,CAQc,GARd,EAQmBK,CAAC,IAAIG,CAAC,CAACH,CAAC,CAACK,IAAH,CAAD,GAAYF,CAAC,CAACiB,SAAF,KAAgB,CARpD,EASSzB,IATT,CASc,IATd,EASoB,QATpB,EAUS2B,IAVT,CAUctB,CAAC,IAAIgB,MAAM,CAAChB,CAAC,CAACC,KAAH,CAVzB;AAYAT,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EACKe,IADL,CACUF,KADV;AAGAf,EAAAA,GAAG,CAACE,MAAJ,CAAW,GAAX,EACKe,IADL,CACUI,KADV;AAGA,SAAOjC,IAAP;AAGH;;AAED,eAAe,MAAM2C,kBAAN,SAAiCjD,KAAK,CAACI,SAAvC,CAAiD;AAC5D8C,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AAAClD,MAAAA,EAAE,EAAE;AAAL,KAAb;AACD;;AAEDmD,EAAAA,iBAAiB,GAAG;AAClBhD,IAAAA,SAAS,GAAGiD,IAAZ,CAAkBC,MAAD,IAAY;AAC3B,WAAKC,QAAL,CAAc;AAACtD,QAAAA,EAAE,EAAEqD;AAAL,OAAd;AACD,KAFD;AAGD;;AAEDE,EAAAA,MAAM,GAAG;AACP,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,oBAAC,YAAD;AAAc,MAAA,IAAI,EAAE,KAAKL,KAAL,CAAWlD,EAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAL,CAAP;AACD;;AAd2D","sourcesContent":["import React from 'react'\nimport rd3 from 'react-d3-library'\nimport * as d3 from 'd3'\n\nconst RD3Component = rd3.Component;\n\nasync function loadChart() {\n    var node = document.createElement('div');\n\n    // const apiData = await d3.json(\"https://cors-anywhere.herokuapp.com/http://api.foodforthoughtt.me/food\")\n\n    var data = [{'a': 1}, {'b': 2}]\n    // apiData[\"organizations\"].forEach((element) => {\n    // data.push({name: element[\"name\"], value: element[\"missions\"].length})\n    // })\n\n    var margin = ({top: 30, right: 0, bottom: 10, left: 300})\n\n    var width = 800;\n    var height = data.length * 25 + margin.top + margin.bottom\n\n    var svg = d3.select(node).append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height);\n    \n    \n\n    const x = d3.scale()\n        .domain([0, d3.max(data, d => d.value)])\n        .range([margin.left, width - margin.right])\n    \n    const y = d3.scale()\n        .domain(data.map(d => d.name))\n        .range([margin.top, height - margin.bottom])\n        .padding(0.1)\n    \n    const xAxis = g => g\n        .attr(\"transform\", `translate(0,${margin.top})`)\n        .call(d3.axisTop(x).ticks(width / 80))\n        .call(g => g.select(\".domain\").remove())\n\n    const yAxis = g => g\n        .attr(\"transform\", `translate(${margin.left},0)`)\n        .call(d3.axisLeft(y).tickSizeOuter(0))\n\n    const format =  x.tickFormat(20);\n\n    \n    svg.append(\"g\")\n            .attr(\"fill\", \"steelblue\")\n        .selectAll(\"rect\")\n        .data(data)\n        .join(\"rect\")\n            .attr(\"x\", x(0))\n            .attr(\"y\", d => y(d.name))\n            .attr(\"width\", d => x(d.value) - x(0))\n            .attr(\"height\", y.bandwidth());\n    \n    svg.append(\"g\")\n            .attr(\"fill\", \"white\")\n            .attr(\"text-anchor\", \"end\")\n            .style(\"font\", \"12px sans-serif\")\n        .selectAll(\"text\")\n        .data(data)\n        .join(\"text\")\n            .attr(\"x\", d => x(d.value) - 4)\n            .attr(\"y\", d => y(d.name) + y.bandwidth() / 2)\n            .attr(\"dy\", \"0.35em\")\n            .text(d => format(d.value));\n    \n    svg.append(\"g\")\n        .call(xAxis);\n    \n    svg.append(\"g\")\n        .call(yAxis);\n\n    return node;\n    \n    \n}\n\nexport default class HorizontalBarChart extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {d3: ''}\n    }\n  \n    componentDidMount() {\n      loadChart().then((result) => {\n        this.setState({d3: result});\n      })\n    }\n  \n    render() {\n      return(<div><RD3Component data={this.state.d3}/></div>)\n    }\n  }\n"]},"metadata":{},"sourceType":"module"}