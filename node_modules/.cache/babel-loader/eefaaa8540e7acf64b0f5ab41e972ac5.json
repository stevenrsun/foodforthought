{"ast":null,"code":"var _jsxFileName = \"/Users/murray/Developer/coursework/software_engineering_cs373/foodforthoughts/src/pages/visualizations.js\";\nimport React, { Component } from 'react';\nimport { Tabs, Tab } from \"react-bootstrap\";\nimport AsterPlot from \"./D3/AsterPlot.js\";\nimport StateMap from \"./D3/StateMap.js\";\nimport BubbleChart from \"./D3/BubbleChart.js\";\nimport BarChart from \"./D3/BarChart.js\";\nimport PieChart from \"./D3/PieChart.js\";\nimport CalendarChart from \"./D3/CalendarChart.js\";\nimport { getStateFromAbbreviation } from \"./ModelPageButtons.js\";\nimport './App.css';\nimport \"./css/business-casual.css\"; //Searches through data and returns index of label if it exists, otherwise return -1\n\nexport function findDataIndex(data, label) {\n  var index = -1;\n\n  for (var i = 0; i < data.length; i++) {\n    if (data[i].label === label) {\n      index = i;\n      break;\n    }\n  }\n\n  return index;\n}\n\nclass Visualizations extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      activeTab: \"billsPerIssue\",\n      //\"billsPerIssue\",\n      dogPieData: [{\n        label: \"Event\",\n        value: 0\n      }, {\n        label: \"Meetup\",\n        value: 0\n      }, {\n        label: \"National Park\",\n        value: 0\n      }],\n      dogPieDataLoaded: false,\n      dogBarData: [{\n        label: \"labrador retriever\",\n        value: 0\n      }],\n      dogBarDataLoaded: false,\n      dogCalendarData: [{\n        \"date\": \"2019-02-01\",\n        \"total\": 2,\n        \"details\": [{\n          \"name\": \"Project 1\"\n        }, {\n          \"name\": \"Project 2\"\n        }]\n      }],\n      dogCalendarDataLoaded: false,\n      mapData: {},\n      mapDataLoaded: false,\n      issueBarData: [],\n      issueBarDataLoaded: false\n    };\n    this.handleSelect = this.handleSelect.bind(this);\n  }\n\n  handleSelect(selectedTab) {\n    this.setState({\n      activeTab: selectedTab\n    });\n  } // food\n\n\n  foodBar() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pageBox\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"Food\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(BarChart, {\n      data: this.state.issueBarData,\n      isLoaded: this.state.issueBarDataLoaded,\n      x: \"Issue\",\n      y: \"Number of Bills\",\n      label: \"IssueBarChart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    })));\n  } //number of states protected for each issue in a visualization\n\n\n  issuesNumStates() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pageBox\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"Number of states protected per issue\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(AsterPlot, {\n      dataURL: \"https://api.rainbowconnection.me/v1/issues/all\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    })));\n  } //renders a state map with the percent of sponsors of bills per each state\n\n\n  billsSupportedByState() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pageBox\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, \"Percent of bills supported per state\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(StateMap, {\n      data: this.state.mapData,\n      isLoaded: this.state.mapDataLoaded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })));\n  } //visualization of the dog activities timeline\n\n\n  dogActivitiesBar() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pageBox\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, \"Dog Breeds\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }), React.createElement(BarChart, {\n      data: this.state.dogBarData,\n      isLoaded: this.state.dogBarDataLoaded,\n      x: \"Breed\",\n      y: \"Total Dogs\",\n      label: \"dogActivitiesBar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })));\n  } //visualization of the dog group's data\n\n\n  dogBreedsPie() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pageBox\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Dog Friendly Activity Types \")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }), React.createElement(PieChart, {\n      data: this.state.dogPieData,\n      isLoaded: this.state.dogPieDataLoaded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    })));\n  } //visualization of the dog group's data\n\n\n  dogActivityCalendar() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pageBox\",\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Dogs Friendly Activity Calendar\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }), React.createElement(CalendarChart, {\n      data: this.state.dogCalendarData,\n      isLoaded: this.state.dogCalendarDataLoaded,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })));\n  }\n\n  setMapData(data) {\n    let mapData = this.state.mapData;\n    var keys = Object.keys(data); //alert(\"setMapData\");\n\n    for (let i = 0; i < keys.length; i++) {\n      //alert(data[keys[i]]);\n      var stateData = data[keys[i]];\n      var state = getStateFromAbbreviation(keys[i]); //var item = {[state]: };\n\n      mapData[state] = {\n        senate: Math.floor(stateData[0] / stateData[1] * 100),\n        rep: Math.floor(stateData[2] / stateData[3] * 100)\n      };\n    }\n\n    return mapData;\n  }\n\n  setIssueBarChartData(data) {\n    let barData = this.state.issueBarData;\n\n    for (let i = 0; i < data.length; i++) {\n      //alert(data.objects[i].breed);\n      var issue = data[i].connections[0];\n\n      if (issue === \"Gender Marker Updates On Identification Documents\") {\n        issue = \"Gender Marker\";\n      }\n\n      var index = findDataIndex(barData, issue);\n\n      if (index === -1) {\n        //have to make a new breed block because this is a new one\n        barData.push({\n          label: issue,\n          value: 1\n        });\n      } else {\n        barData[index].value++;\n      }\n    }\n\n    return barData;\n  }\n\n  setPieChartData(data) {\n    let pieData = this.state.dogPieData;\n\n    for (let i = 0; i < data.objects.length; i++) {\n      if (data.objects[i].type === \"eventbrite\") {\n        pieData[0].value++;\n      } else if (data.objects[i].type === \"meetup\") {\n        //alert(\"meetup\");\n        pieData[1].value++;\n      } else if (data.objects[i].type === \"park\") {\n        pieData[2].value++;\n      }\n    }\n\n    return pieData;\n  }\n\n  setDogBarChartData(data) {\n    let barData = this.state.dogBarData;\n\n    for (let i = 0; i < data.objects.length; i++) {\n      //alert(data.objects[i].breed);\n      var breedIndex = findDataIndex(barData, data.objects[i].breed);\n\n      if (breedIndex === -1) {\n        //have to make a new breed block because this is a new one\n        barData.push({\n          label: data.objects[i].breed,\n          value: 1\n        });\n      } else {\n        barData[breedIndex].value++;\n      }\n    }\n\n    return barData;\n  }\n\n  setCalendarData(data) {\n    let calendarData = this.state.dogCalendarData;\n    var lastDate = calendarData.length - 1;\n\n    for (let i = 0; i < data.objects.length; i++) {\n      var details = {\n        \"name\": data.objects[i].name\n      };\n\n      if (data.objects[i].date === calendarData[lastDate].date) {\n        calendarData[lastDate].details.push(details);\n        calendarData[lastDate].total++;\n      } else {\n        //have to make a new date block because this is a new one\n        calendarData.push({\n          \"date\": data.objects[i].date,\n          \"total\": 1,\n          \"details\": [details]\n        });\n        lastDate++;\n      }\n    }\n\n    return calendarData;\n  }\n\n  async componentDidMount() {\n    //issue bar data\n    await axios.get(\"https://api.rainbowconnection.me/v1/bills/all\").then(result => {\n      let data = result.data;\n      let barData = this.setIssueBarChartData(data);\n      this.setState({\n        issueBarData: barData,\n        issueBarDataLoaded: true\n      });\n    }, error => {\n      this.setState({\n        error\n      });\n    }); //map data\n\n    await axios.get(\"https://api.rainbowconnection.me/v1/visualization/map\").then(result => {\n      let data = result.data;\n      let mapData = this.setMapData(data);\n      this.setState({\n        mapData: mapData\n      });\n    }, error => {\n      this.setState({\n        error\n      });\n    });\n    this.setState({\n      mapDataLoaded: true\n    }); //pie chart data\n\n    for (var page = 1; page < 8; page++) {\n      await axios.get(\"https://api.findadogfor.me/api/activity?page=\" + page).then(result => {\n        let data = result.data;\n        let pieData = this.setPieChartData(data);\n        this.setState({\n          dogPieData: pieData\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    }\n\n    this.setState({\n      dogPieDataLoaded: true\n    }); //calendar chart data\n\n    for (page = 1; page < 8; page++) {\n      await axios.get(\"https://api.findadogfor.me/api//activity/query?sort=date&page=\" + page).then(result => {\n        let data = result.data;\n        let calendarData = this.setCalendarData(data);\n        this.setState({\n          dogCalendarData: calendarData\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    }\n\n    this.setState({\n      dogCalendarDataLoaded: true\n    }); //bar chart data\n\n    for (page = 1; page < 154; page++) {\n      await axios.get(\"https://api.findadogfor.me/api/dog?page=\" + page).then(result => {\n        let data = result.data;\n        let barData = this.setDogBarChartData(data);\n        this.setState({\n          setDogBarChartData: barData\n        });\n      }, error => {\n        this.setState({\n          error\n        });\n      });\n    }\n\n    this.setState({\n      dogBarDataLoaded: true\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 419\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }), React.createElement(Tabs, {\n      className: \"tab\",\n      activeKey: this.state.activeTab,\n      onSelect: this.handleSelect,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      className: \"tabBackground\",\n      eventKey: \"billsPerIssue\",\n      title: \"Number of bills per issue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423\n      },\n      __self: this\n    }), this.foodBar(), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 425\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Visualizations;","map":{"version":3,"sources":["/Users/murray/Developer/coursework/software_engineering_cs373/foodforthoughts/src/pages/visualizations.js"],"names":["React","Component","Tabs","Tab","AsterPlot","StateMap","BubbleChart","BarChart","PieChart","CalendarChart","getStateFromAbbreviation","findDataIndex","data","label","index","i","length","Visualizations","constructor","props","state","activeTab","dogPieData","value","dogPieDataLoaded","dogBarData","dogBarDataLoaded","dogCalendarData","dogCalendarDataLoaded","mapData","mapDataLoaded","issueBarData","issueBarDataLoaded","handleSelect","bind","selectedTab","setState","foodBar","issuesNumStates","billsSupportedByState","dogActivitiesBar","dogBreedsPie","dogActivityCalendar","setMapData","keys","Object","stateData","senate","Math","floor","rep","setIssueBarChartData","barData","issue","connections","push","setPieChartData","pieData","objects","type","setDogBarChartData","breedIndex","breed","setCalendarData","calendarData","lastDate","details","name","date","total","componentDidMount","axios","get","then","result","error","page","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport {Tabs, Tab} from \"react-bootstrap\";\nimport AsterPlot from \"./D3/AsterPlot.js\";\nimport StateMap from \"./D3/StateMap.js\";\nimport BubbleChart from \"./D3/BubbleChart.js\";\nimport BarChart from \"./D3/BarChart.js\";\nimport PieChart from \"./D3/PieChart.js\";\nimport CalendarChart from \"./D3/CalendarChart.js\";\nimport {getStateFromAbbreviation } from \"./ModelPageButtons.js\";\n\nimport './App.css';\nimport \"./css/business-casual.css\";\n\n//Searches through data and returns index of label if it exists, otherwise return -1\nexport function findDataIndex (data, label)\n{\n  var index = -1;\n  for (var i = 0; i < data.length; i++)\n  {\n    if (data[i].label === label)\n    {\n      index = i;\n      break;\n    }\n  }\n  return index;\n}\n\nclass Visualizations extends Component\n{\n  constructor(props)\n  {\n    super();\n    this.state =\n    {\n      activeTab: \"billsPerIssue\", //\"billsPerIssue\",\n      dogPieData: [\n        {\n          label: \"Event\",\n         \tvalue: 0\n        },\n        {\n          label: \"Meetup\",\n         \tvalue: 0\n        },\n        {\n          label: \"National Park\",\n         \tvalue: 0\n        },\n      ],\n      dogPieDataLoaded: false,\n      dogBarData: [\n        {\n          label: \"labrador retriever\",\n          value: 0\n        },\n      ],\n      dogBarDataLoaded: false,\n      dogCalendarData: [{\n        \"date\": \"2019-02-01\",\n        \"total\": 2,\n        \"details\": [{\n          \"name\": \"Project 1\",\n        }, {\n          \"name\": \"Project 2\",\n        },],\n      },\n    ],\n      dogCalendarDataLoaded: false,\n      mapData:\n      {\n      },\n      mapDataLoaded: false,\n      issueBarData: [],\n      issueBarDataLoaded: false,\n\n    };\n\n    this.handleSelect = this.handleSelect.bind(this);\n  }\n\n  handleSelect(selectedTab)\n  {\n    this.setState({\n      activeTab: selectedTab\n    });\n  }\n\n  // food\n  foodBar ()\n  {\n    return (\n      <div>\n        <div className=\"pageBox\" align=\"center\">\n          <br />\n          <h2><b>Food</b></h2>\n          <br />\n          <BarChart data = {this.state.issueBarData} isLoaded = {this.state.issueBarDataLoaded} x = \"Issue\" y = \"Number of Bills\" label = \"IssueBarChart\"/>\n          <br />\n        </div>\n      </div>\n    );\n  }\n\n  //number of states protected for each issue in a visualization\n  issuesNumStates ()\n  {\n    return (\n      <div>\n        <div className=\"pageBox\" align=\"center\">\n        <br />\n        <h2><b>Number of states protected per issue</b></h2>\n        <br />\n        <AsterPlot dataURL = \"https://api.rainbowconnection.me/v1/issues/all\"/>\n        <br />\n        </div>\n      </div>\n    );\n  }\n\n  //renders a state map with the percent of sponsors of bills per each state\n  billsSupportedByState ()\n  {\n    return (\n      <div>\n        <div className=\"pageBox\" align=\"center\">\n        <br />\n        <h2><b>Percent of bills supported per state</b></h2>\n        <br />\n        <StateMap data = {this.state.mapData} isLoaded = {this.state.mapDataLoaded}/>\n        <br />\n        </div>\n      </div>\n    );\n  }\n\n  //visualization of the dog activities timeline\n  dogActivitiesBar ()\n  {\n    return (\n      <div>\n        <div className=\"pageBox\" align=\"center\">\n        <br />\n        <h2><b>Dog Breeds</b></h2>\n        <br />\n        <BarChart data = {this.state.dogBarData} isLoaded = {this.state.dogBarDataLoaded}  x = \"Breed\" y = \"Total Dogs\" label = \"dogActivitiesBar\"/>\n        <br />\n        </div>\n      </div>\n    );\n  }\n\n  //visualization of the dog group's data\n  dogBreedsPie ()\n  {\n    return (\n      <div>\n        <div className=\"pageBox\" align=\"center\">\n        <br />\n        <h2><b>Dog Friendly Activity Types </b></h2>\n        <br />\n        <br />\n        <PieChart data = {this.state.dogPieData} isLoaded = {this.state.dogPieDataLoaded}/>\n        <br />\n        </div>\n      </div>\n    );\n  }\n\n  //visualization of the dog group's data\n  dogActivityCalendar ()\n  {\n    return (\n      <div>\n        <div className=\"pageBox\" align=\"center\">\n        <br />\n        <h2><b>Dogs Friendly Activity Calendar</b></h2>\n        <br />\n        <CalendarChart data = {this.state.dogCalendarData} isLoaded = {this.state.dogCalendarDataLoaded}/>\n        <br />\n        </div>\n      </div>\n    );\n  }\n\n  setMapData (data)\n  {\n    let mapData = this.state.mapData;\n    var keys = Object.keys(data);\n    //alert(\"setMapData\");\n    for (let i = 0; i < keys.length; i++)\n    {\n      //alert(data[keys[i]]);\n      var stateData = data[keys[i]];\n      var state = getStateFromAbbreviation(keys[i]);\n      //var item = {[state]: };\n\n      mapData[state] = {senate: Math.floor((stateData[0] / stateData[1]) * 100), rep: Math.floor((stateData[2] / stateData[3]) * 100)};\n    }\n    return mapData;\n  }\n\n  setIssueBarChartData (data)\n  {\n    let barData = this.state.issueBarData;\n\n    for (let i = 0; i < data.length; i++)\n    {\n      //alert(data.objects[i].breed);\n      var issue = data[i].connections[0];\n\n      if (issue === \"Gender Marker Updates On Identification Documents\")\n      {\n        issue = \"Gender Marker\";\n      }\n\n      var index = findDataIndex(barData, issue);\n      if (index === -1)\n      {\n        //have to make a new breed block because this is a new one\n        barData.push({label: issue, value: 1});\n      }\n      else\n      {\n        barData[index].value++;\n      }\n    }\n    return barData;\n  }\n\n  setPieChartData (data)\n  {\n    let pieData = this.state.dogPieData;\n\n    for (let i = 0; i < data.objects.length; i++)\n    {\n      if (data.objects[i].type === \"eventbrite\")\n      {\n        pieData[0].value++;\n      }\n      else if (data.objects[i].type === \"meetup\")\n      {\n        //alert(\"meetup\");\n        pieData[1].value++;\n      }\n      else if (data.objects[i].type === \"park\")\n      {\n        pieData[2].value++;\n      }\n    }\n    return pieData;\n  }\n\n  setDogBarChartData (data)\n  {\n    let barData = this.state.dogBarData;\n\n    for (let i = 0; i < data.objects.length; i++)\n    {\n      //alert(data.objects[i].breed);\n      var breedIndex = findDataIndex(barData, data.objects[i].breed);\n      if (breedIndex === -1)\n      {\n        //have to make a new breed block because this is a new one\n        barData.push({label: data.objects[i].breed, value: 1});\n      }\n      else\n      {\n        barData[breedIndex].value++;\n      }\n    }\n    return barData;\n  }\n\n  setCalendarData (data)\n  {\n    let calendarData = this.state.dogCalendarData;\n    var lastDate = calendarData.length - 1;\n\n    for (let i = 0; i < data.objects.length; i++)\n    {\n      var details = {\"name\": data.objects[i].name};\n      if (data.objects[i].date === calendarData[lastDate].date)\n      {\n        calendarData[lastDate].details.push(details);\n        calendarData[lastDate].total++;\n      }\n      else\n      {\n        //have to make a new date block because this is a new one\n        calendarData.push({\"date\": data.objects[i].date, \"total\": 1, \"details\":[details,]});\n        lastDate++;\n      }\n    }\n    return calendarData;\n  }\n\n  async componentDidMount()\n  {\n    //issue bar data\n    await axios.get(\"https://api.rainbowconnection.me/v1/bills/all\").then(\n      result => {\n        let data = result.data;\n        let barData = this.setIssueBarChartData(data);\n\n        this.setState({\n          issueBarData : barData,\n          issueBarDataLoaded : true\n        });\n      },\n\n      error => {\n        this.setState({\n          error\n        });\n      }\n    );\n\n    //map data\n    await axios.get(\"https://api.rainbowconnection.me/v1/visualization/map\").then(\n      result => {\n        let data = result.data;\n        let mapData = this.setMapData(data);\n\n        this.setState({\n          mapData : mapData\n        });\n      },\n\n      error => {\n        this.setState({\n          error\n        });\n      }\n    );\n    this.setState({\n      mapDataLoaded : true\n    });\n\n    //pie chart data\n    for (var page = 1; page < 8; page++)\n    {\n      await axios.get(\"https://api.findadogfor.me/api/activity?page=\"+ page).then(\n        result => {\n          let data = result.data;\n          let pieData = this.setPieChartData(data);\n\n          this.setState({\n            dogPieData : pieData\n          });\n        },\n\n        error => {\n          this.setState({\n            error\n          });\n        }\n      );\n  }\n  this.setState({\n    dogPieDataLoaded : true\n  });\n\n\n\n  //calendar chart data\n  for (page = 1; page < 8; page++)\n  {\n    await axios.get(\"https://api.findadogfor.me/api//activity/query?sort=date&page=\"+ page).then(\n      result => {\n        let data = result.data;\n        let calendarData = this.setCalendarData(data);\n\n        this.setState({\n          dogCalendarData : calendarData\n        });\n      },\n\n      error => {\n        this.setState({\n          error\n        });\n      }\n    );\n  }\n  this.setState({\n    dogCalendarDataLoaded : true\n  });\n\n  //bar chart data\n  for (page = 1; page < 154; page++)\n  {\n    await axios.get(\"https://api.findadogfor.me/api/dog?page=\"+ page).then(\n      result => {\n        let data = result.data;\n        let barData = this.setDogBarChartData(data);\n\n        this.setState({\n          setDogBarChartData : barData\n        });\n      },\n\n      error => {\n        this.setState({\n          error\n        });\n      }\n    );\n  }\n  this.setState({\n    dogBarDataLoaded : true\n  });\n}\n\n\n  render ()\n  {\n    return (\n      <div>\n        <br/>\n        <Tabs className=\"tab\" activeKey={this.state.activeTab} onSelect={this.handleSelect}>\n          <Tab className=\"tabBackground\" eventKey=\"billsPerIssue\" title=\"Number of bills per issue\">\n            <br/>\n            {this.foodBar()}\n            <br/>\n          </Tab>\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nexport default Visualizations;\n"]},"metadata":{},"sourceType":"module"}